<html>
 <body>
  <button id="setup">setup</button>
  <button id="run">run</button>
  <script type="module">
   import { onClick, hide, show } from './el.js';
   import { load, play } from './music.js';
   let ac;
   let clavinet;
   let marimba;

   const setup = async () => {
     ac = new AudioContext();
     await load('clavinet');
     await load('marimba');
     await load('xylophone');
     hide('setup');
     show('run');
   };

   const run = async () => {
     play('clavinet', 0.5,  '-- A4 -- -- -- B4 -- --');
     play('marimba',  0.5,  'B4 -- G4 -- A4 -- B4 --');
     play('xylophone', 0.5, '-- -- -- B4 -- -- -- B4');
   };

   show('setup');
   onClick('setup', setup);

   hide('run');
   onClick('run', run);
  </script>
 </body>
</html>
